<html>
<head><meta charset="utf-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<link rel="stylesheet" href="index.css">
</head>
<script src="jquery.min.js"></script>
<body style="background-color:#1A1C1D;">
<center>
<div align="left">‡πÑ‡∏°‡πâ:‡πë}</div>
<h5><div id="wallet1"></div></h5>
  <table>
<td id="colorTD"><h3><div id="realprofit"></div></h3></td>
<td><table border="1"><thead>
	  <tr style="background-color: #5A5050">
    <th><center><input id="NameCoin" style="font-size:14pt;height:20px;width:60px;" autocomplete="off" placeholder="‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç" onClick="this.select();">
    </center></th>	
    <th><center><font size="1">‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</font></center></th>	
    <th><center><font size="1">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</font></center></th>		
    <th><center><font size="1"><div id="percentWhat"></div></font></center></th>		
		<th><center><font size="1">‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤</font></center></th>		
		<th><center><font size="1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</font></center></th>
		<th><center><font size="1">‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏õ</font></center></th>
	  </tr></thead><tbody>
	   <tr style="background-color: #1D1D1D">
     <td><center><button type="submit" id="save" style="font-size:13pt;height:24px;" onclick="cryptoSave()">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button> </center></td>
     <td><center><font color="grey"><u><div id='symbol' style='user-select: all; cursor: pointer;'></div></u></font></center></td>	
     <td><center><div id="pricenow"></div></center></td>
     <th><center><div id="percent"></div></center></th>		
		 <td><center><font color="grey"><u><div id='average' style='user-select: all; cursor: pointer;'></div></u></font></center></td>		 
		 <td><center><font color="#4d7a41"><u><div id='executed' style='user-select: all; cursor: pointer;'></div></u></font></center></td>
		 <td><center><font color="grey"><u><div id='total' style='user-select: all; cursor: pointer;'></div></u></font></center></td>
     <td><div id="graph"></div></td>
		 </tr></tbody></table></td>
</table>
<div id="botsell">
  <input type="submit" class="button-sellnow" name="sellnow" value="‡∏Ç‡∏≤‡∏¢ üí∏" onclick="sell()"></div>
<div id="botgo"><input type="submit" name="buy" class="button-buy" value="‡∏ã‡∏∑‡πâ‡∏≠ üöÄ" onclick="buy()"></div>
<table><td>
    </td></table><hr>

    <div align="left">‡πÑ‡∏°‡πâ:‡πí}</div>
    <h5><div id="wallet2"></div></h5>
      <table>
    <td id="colorTD2"><h3><div id="realprofit2"></div></h3></td>
    <td><table border="1"><thead>
        <tr style="background-color: #5A5050">
        <th><center><font size="1">‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</font></center></th>		
        <th><center><font size="1"><div id="percentWhat2"></div></font></center></th>		
        <th><center><font size="1">‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤</font></center></th>		
        <th><center><font size="1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</font></center></th>
        <th><center><font size="1">‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏õ</font></center></th>
        </tr></thead><tbody>
         <tr style="background-color: #1D1D1D">
         <td><center><font color="grey"><u><div id='symbol2' style='user-select: all; cursor: pointer;'></div></u></font></center></td>	
         <th><center><div id="percent2"></div></center></th>		
         <td><center><font color="grey"><u><div id='average2' style='user-select: all; cursor: pointer;'></div></u></font></center></td>		 
         <td><center><font color="#4d7a41"><u><div id='executed2' style='user-select: all; cursor: pointer;'></div></u></font></center></td>
         <td><center><font color="grey"><u><div id='total2' style='user-select: all; cursor: pointer;'></div></u></font></center></td>
         <td><div id="graph2"></div></td>
         </tr></tbody></table></td>
    </table>
    <div id="botsell2">
      <input type="submit" class="button-sellnow" name="sellnow2" value="‡∏Ç‡∏≤‡∏¢ üí∏" onclick="sell2()"></div>
    <div id="botgo2"><input type="submit" name="buy2" class="button-buy" value="‡∏ã‡∏∑‡πâ‡∏≠ üöÄ" onclick="buy2()"></div>
    <table><td>
        </td></table><hr>

        <div align="left">‡πÑ‡∏°‡πâ:‡πì}</div>
        <h5><div id="wallet3"></div></h5>
          <table>
        <td id="colorTD3"><h3><div id="realprofit3"></div></h3></td>
        <td><table border="1"><thead>
            <tr style="background-color: #5A5050">
            <th><center><font size="1">‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</font></center></th>	
            <th><center><font size="1"><div id="percentWhat3"></div></font></center></th>		
            <th><center><font size="1">‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏Ñ‡∏≤</font></center></th>		
            <th><center><font size="1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</font></center></th>
            <th><center><font size="1">‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏õ</font></center></th>
            </tr></thead><tbody>
             <tr style="background-color: #1D1D1D">
             <td><center><font color="grey"><u><div id='symbol3' style='user-select: all; cursor: pointer;'></div></u></font></center></td>	
             <th><center><div id="percent3"></div></center></th>		
             <td><center><font color="grey"><u><div id='average3' style='user-select: all; cursor: pointer;'></div></u></font></center></td>		 
             <td><center><font color="#4d7a41"><u><div id='executed3' style='user-select: all; cursor: pointer;'></div></u></font></center></td>
             <td><center><font color="grey"><u><div id='total3' style='user-select: all; cursor: pointer;'></div></u></font></center></td>
             <td><div id="graph3"></div></td>
             </tr></tbody></table></td>
        </table>
        <div id="botsell3">
          <input type="submit" class="button-sellnow" name="sellnow3" value="‡∏Ç‡∏≤‡∏¢ üí∏" onclick="sell3()"></div>
        <div id="botgo3"><input type="submit" name="buy3" class="button-buy" value="‡∏ã‡∏∑‡πâ‡∏≠ üöÄ" onclick="buy3()"></div>
        <table><td>
            </td></table><hr>
		</center>
    <script>
function cryptoSave() {
localStorage.setItem('symbol_backtest', document.getElementById("NameCoin").value)
window.location.reload()
}
document.getElementById("botsell").style.display = "none"
document.getElementById("botgo").style.display = "none"

document.getElementById("botsell2").style.display = "none"
document.getElementById("botgo2").style.display = "none"

document.getElementById("botsell3").style.display = "none"
document.getElementById("botgo3").style.display = "none"

if (localStorage.getItem('symbol_backtest') != null){
  document.getElementById("botgo").style.display = "inline"
  document.getElementById("botgo2").style.display = "inline"
  document.getElementById("botgo3").style.display = "inline"
}

function buy() {
  localStorage.setItem('Average_backtest', document.getElementById("pricenow").innerHTML)
  localStorage.setItem('Executed_backtest', (1000/localStorage.getItem("Average_backtest")).toFixed(7))
  localStorage.setItem('Total_backtest', 1000)
  window.location.reload()
}
function buy2() {
  localStorage.setItem('Average_backtest2', document.getElementById("pricenow").innerHTML)
  localStorage.setItem('Executed_backtest2', (1000/localStorage.getItem("Average_backtest2")).toFixed(7))
  localStorage.setItem('Total_backtest2', 1000)
  window.location.reload()
}
function buy3() {
  localStorage.setItem('Average_backtest3', document.getElementById("pricenow").innerHTML)
  localStorage.setItem('Executed_backtest3', (1000/localStorage.getItem("Average_backtest3")).toFixed(7))
  localStorage.setItem('Total_backtest3', 1000)
  window.location.reload()
}

function sell() {
  localStorage.setItem('Average_backtest', 0)
  localStorage.setItem('Executed_backtest', 0)
  localStorage.setItem('Total_backtest', 0)
  document.getElementById('wallet1').innerHTML = '‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ' + (1000 + Number(document.getElementById("realprofit").innerHTML)) + ' usd'
  document.getElementById("botsell").style.display = "none"
  document.getElementById("realprofit").style.display = "none"
  document.getElementById("pricenow").innerHTML = 0
  document.getElementById("percent").innerHTML = '0%'
  document.getElementById("average").innerHTML = 0
  document.getElementById("executed").innerHTML = 0
  document.getElementById("total").innerHTML = 0
}
function sell2() {
  localStorage.setItem('Average_backtest2', 0)
  localStorage.setItem('Executed_backtest2', 0)
  localStorage.setItem('Total_backtest2', 0)
  document.getElementById('wallet2').innerHTML = '‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ' + (1000 + Number(document.getElementById("realprofit2").innerHTML)) + ' usd'
  document.getElementById("botsell2").style.display = "none"
  document.getElementById("realprofit2").style.display = "none"
  document.getElementById("pricenow2").innerHTML = 0
  document.getElementById("percent2").innerHTML = '0%'
  document.getElementById("average2").innerHTML = 0
  document.getElementById("executed2").innerHTML = 0
  document.getElementById("total2").innerHTML = 0
}
function sell3() {
  localStorage.setItem('Average_backtest3', 0)
  localStorage.setItem('Executed_backtest3', 0)
  localStorage.setItem('Total_backtest3', 0)
  document.getElementById('wallet3').innerHTML = '‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ' + (1000 + Number(document.getElementById("realprofit3").innerHTML)) + ' usd'
  document.getElementById("botsell3").style.display = "none"
  document.getElementById("realprofit3").style.display = "none"
  document.getElementById("pricenow3").innerHTML = 0
  document.getElementById("percent3").innerHTML = '0%'
  document.getElementById("average3").innerHTML = 0
  document.getElementById("executed3").innerHTML = 0
  document.getElementById("total3").innerHTML = 0
}
symbol=localStorage.getItem('symbol_backtest').toUpperCase() 
average = Number(localStorage.getItem("Average_backtest"))
executed = Number(localStorage.getItem("Executed_backtest"))
total = Number(localStorage.getItem("Total_backtest"))

symbol2=localStorage.getItem('symbol_backtest').toUpperCase() 
average2 = Number(localStorage.getItem("Average_backtest2"))
executed2 = Number(localStorage.getItem("Executed_backtest2"))
total2 = Number(localStorage.getItem("Total_backtest2"))

symbol3=localStorage.getItem('symbol_backtest').toUpperCase() 
average3 = Number(localStorage.getItem("Average_backtest3"))
executed3 = Number(localStorage.getItem("Executed_backtest3"))
total3 = Number(localStorage.getItem("Total_backtest3"))

if (total == 0){
wallet1 = 1000
} else if (total != 0){
  wallet1 = 0
}
if (total2 == 0){
wallet2 = 1000
} else if (total2 != 0){
  wallet2 = 0
}
if (total3 == 0){
wallet3 = 1000
} else if (total3 != 0){
  wallet3 = 0
}

if (average > 0 || executed > 0 || total > 0){
  document.getElementById("botgo").style.display = "none"
  document.getElementById("botsell").style.display = "inline"
}
if (average2 > 0 || executed2 > 0 || total2 > 0){
  document.getElementById("botgo2").style.display = "none"
  document.getElementById("botsell2").style.display = "inline"
}
if (average3 > 0 || executed3 > 0 || total3 > 0){
  document.getElementById("botgo3").style.display = "none"
  document.getElementById("botsell3").style.display = "inline"
}

document.getElementById('wallet1').innerHTML = '‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î: ' + wallet1 + ' usd'
document.getElementById('wallet2').innerHTML = '‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î: ' + wallet2 + ' usd'
document.getElementById('wallet3').innerHTML = '‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î: ' + wallet3 + ' usd'

document.getElementById('symbol').innerHTML = "<a href='https://www.tradingview.com/chart/?symbol=BINANCE%3A"+symbol+"BUSD&interval=15' target='_blank'>"+symbol+"</a>"
document.getElementById('symbol2').innerHTML = "<a href='https://www.tradingview.com/chart/?symbol=BINANCE%3A"+symbol2+"BUSD&interval=15' target='_blank'>"+symbol2+"</a>"
document.getElementById('symbol3').innerHTML = "<a href='https://www.tradingview.com/chart/?symbol=BINANCE%3A"+symbol3+"BUSD&interval=15' target='_blank'>"+symbol3+"</a>"

document.getElementById('average').innerHTML = average
document.getElementById('average2').innerHTML = average2
document.getElementById('average3').innerHTML = average3

document.getElementById('executed').innerHTML = executed
document.getElementById('executed2').innerHTML = executed2
document.getElementById('executed3').innerHTML = executed3

document.getElementById('total').innerHTML = total.toFixed(2)
document.getElementById('total2').innerHTML = total2.toFixed(2)
document.getElementById('total3').innerHTML = total3.toFixed(2)

document.getElementById("NameCoin").value=symbol

  if (wallet1 < total){
  document.getElementById("botsell").style.display = "inline"
  document.getElementById("botgo").style.display = "none"
 }
 if (wallet2 < total2){
  document.getElementById("botsell2").style.display = "inline"
  document.getElementById("botgo2").style.display = "none"
 }
 if (wallet3 < total3){
  document.getElementById("botsell3").style.display = "inline"
  document.getElementById("botgo3").style.display = "none"
 }
///////////‡∏î‡∏∂‡∏á API ‡∏£‡∏≤‡∏Ñ‡∏≤ Real time
let ws = new WebSocket("wss://stream.binance.com:9443/ws/" + (symbol).toLowerCase() + "busd"  + "@ticker")
let stockPriceElement = document.getElementById('pricenow')
let lastPrice = null;

ws.onmessage = (event) => {
    let stockObject = JSON.parse(event.data)
    let price  = parseFloat(stockObject.b)
    stockPriceElement.innerText = price
    stockPriceElement.style.color = !lastPrice || lastPrice === price ? '#37B856' : price > lastPrice ? '#6CF109' : 'red'
	    lastPrice = price

      now = lastPrice*executed
      now2 = lastPrice*executed2
      now3 = lastPrice*executed3
      
      RealTimeProfit = now - total
      RealTimeProfit2 = now2 - total2
      RealTimeProfit3 = now3 - total3

      percent = ((RealTimeProfit*100)/total).toFixed(1)
      percent2 = ((RealTimeProfit2*100)/total2).toFixed(1)
      percent3 = ((RealTimeProfit3*100)/total3).toFixed(1)

      if (RealTimeProfit > 0){
        document.getElementById("realprofit").innerHTML = RealTimeProfit.toFixed(2)
        document.getElementById("percentWhat").innerHTML = '‡∏Å‡∏≥‡πÑ‡∏£'
        document.getElementById("percent").innerHTML = '<font color="green">'+percent + '%</font>'
        document.getElementById("graph").innerHTML = "<img src='https://nomics.com/images/sparkline/markets/binance-fu_"+ symbol +"USDT-15m.svg'>"
        document.getElementById("colorTD").style.backgroundColor = 'ForestGreen'
      } else {
        document.getElementById("realprofit").innerHTML = RealTimeProfit.toFixed(2)
        document.getElementById("percentWhat").innerHTML = '‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô'
        document.getElementById("percent").innerHTML = '<font color="red">'+ percent + '%</font>'
        document.getElementById("colorTD").style.backgroundColor = 'FireBrick'
      }

      if (RealTimeProfit2 > 0){
        document.getElementById("realprofit2").innerHTML = RealTimeProfit2.toFixed(2)
        document.getElementById("percentWhat2").innerHTML = '‡∏Å‡∏≥‡πÑ‡∏£'
        document.getElementById("percent2").innerHTML = '<font color="green">'+percent2 + '%</font>'
        document.getElementById("graph2").innerHTML = "<img src='https://nomics.com/images/sparkline/markets/binance-fu_"+ symbol2 +"USDT-15m.svg'>"
        document.getElementById("colorTD2").style.backgroundColor = 'ForestGreen'
      } else {
        document.getElementById("realprofit2").innerHTML = RealTimeProfit2.toFixed(2)
        document.getElementById("percentWhat2").innerHTML = '‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô'
        document.getElementById("percent2").innerHTML = '<font color="red">'+ percent2 + '%</font>'
        document.getElementById("colorTD2").style.backgroundColor = 'FireBrick'
      }

      if (RealTimeProfit3 > 0){
        document.getElementById("realprofit3").innerHTML = RealTimeProfit3.toFixed(2)
        document.getElementById("percentWhat3").innerHTML = '‡∏Å‡∏≥‡πÑ‡∏£'
        document.getElementById("percent3").innerHTML = '<font color="green">'+percent3 + '%</font>'
        document.getElementById("graph3").innerHTML = "<img src='https://nomics.com/images/sparkline/markets/binance-fu_"+ symbol3 +"USDT-15m.svg'>"
        document.getElementById("colorTD3").style.backgroundColor = 'ForestGreen'
      } else {
        document.getElementById("realprofit3").innerHTML = RealTimeProfit3.toFixed(2)
        document.getElementById("percentWhat3").innerHTML = '‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô'
        document.getElementById("percent3").innerHTML = '<font color="red">'+ percent3 + '%</font>'
        document.getElementById("colorTD3").style.backgroundColor = 'FireBrick'
      }
     }




</script>
</body>
</html>
